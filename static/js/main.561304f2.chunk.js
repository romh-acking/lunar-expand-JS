(this["webpackJsonplunar expand JS"]=this["webpackJsonplunar expand JS"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var r=n(82),a=n(14),i=n(83),c=n(146),o=n(147),s=n(149),l=n(167),d=n(0),j=n.n(d),b=n(28),p=n(40),h=function(e,t){var n=t.type;switch(n){case"TOGGLE_THEME":return Object(p.a)(Object(p.a)({},e),{},{switched:e.switched+1,theme:"light"===e.theme?"dark":"light"});default:throw new Error("Unhandled action type: ".concat(n))}},O=n(2),x=n(0).createContext,u=localStorage.getItem("theme")?JSON.parse(localStorage.getItem("theme")):{switched:0,theme:"dark"},m=x(),f=x(),g=function(){return Object(d.useContext)(m)},v=function(e){var t=e.children,n=Object(d.useReducer)(h,u),r=Object(b.a)(n,2),a=r[0],i=r[1];return Object(d.useEffect)((function(){localStorage.setItem("theme",JSON.stringify(a))}),[a]),Object(O.jsx)(m.Provider,{value:a,children:Object(O.jsx)(f.Provider,{value:i,children:t})})},y={palette:{type:"light"}},w={palette:{type:"dark",primary:{main:"#7289da"}}};function k(e){var t=e.children,n=g().theme,r=Object(i.a)(y),a=Object(i.a)(w);return Object(O.jsxs)(c.a,{theme:"light"===n?r:a,children:[Object(O.jsx)(o.a,{}),Object(O.jsx)(s.a,{maxWidth:"md",children:Object(O.jsx)(l.a,{marginTop:2,children:t})})]})}var E=n(27),z=n(46),M="SET_SNACKBAR",A={snackbarOpen:!1,snackbarType:"success",snackbarMessage:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:var n=t.snackbarOpen,r=t.snackbarMessage,a=t.snackbarType;return Object(p.a)(Object(p.a)({},e),{},{snackbarOpen:n,snackbarType:a,snackbarMessage:r});default:return e}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:M,snackbarOpen:e,snackbarType:t,snackbarMessage:n}},C=Object(z.b)({snackbar:S}),I=Object(z.c)(C,{}),B=n(157),L=n(151),R=n(158),Z=n(64),F=n(150),N=n(80),J=n.n(N),W=n(79),P=n.n(W),G=n(159),H="LoROM1",U="LoROM2",D="HiROM",_="ExLoROM",K="ExHiROM",V="Invalid",Y={AppendZeros:"AppendZeros",Mirror:"Mirror"},$=n(168),q=n(156),Q=n(154),X=n(155),ee=n(153);function te(){var e=j.a.useState(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],a=function(){r(!1)};return Object(O.jsxs)("div",{children:[Object(O.jsx)(F.a,{onClick:function(){r(!0)},children:"About"}),Object(O.jsxs)($.a,{open:n,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(O.jsx)(ee.a,{children:"About"}),Object(O.jsx)(Q.a,{children:Object(O.jsxs)(X.a,{style:{textAlign:"center"},children:["This program is not endorsed or supported by Nintendo, and the author is not affiliated with any other corporate entity.",Object(O.jsx)("br",{}),'The program is freeware and provided "AS IS"...',Object(O.jsx)("br",{}),"The author cannot be held liable for damages of any kind arising from its use or presence.",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"JavaScript Port Based on this Version of Lunar Expand:",Object(O.jsx)("br",{}),"Version 1.14",Object(O.jsx)("br",{}),"Public Build --- May 22 2010",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"Originally By: FuSoYa",Object(O.jsx)("br",{}),"Ported By: FCandChill"]})}),Object(O.jsx)(q.a,{children:Object(O.jsx)(F.a,{onClick:a,autoFocus:!0,children:"Close"})})]})]})}var ne=n(169),re=n(166),ae=0,ie=null;function ce(){if(ae+2>ie.length)throw new Error("Location outside bounds of rom");var e=new Uint8Array(ie.slice(ae,ae+2)),t=(e[0]<<8)+e[1];return ae+=2,t}function oe(){if(ae+1>ie.length)throw new Error("Location outside bounds of rom");var e=new Uint8Array(ie.slice(ae,ae+1))[0];return ae+=1,e}var se=n(62),le=[{size:65536,id:7},{size:131072,id:8},{size:262144,id:9},{size:524288,id:10},{size:1048576,id:11},{size:2097152,id:12},{size:4194304,id:13}],de=1,je=5;function be(e,t,n){var r,a,i,c,o="";if(n.size>e.length)switch(a=e,i=n.size,c=0,r=function(e,t,n){var r;switch(t){case H:case U:case _:r=32725;break;case D:case K:r=65493;break;default:throw new Error("Invalid rom type")}var a=240&e[r],i=15&e[r];switch(i){case de:n.isExtended?a|=je:a|=de;break;default:a|=i}return e[r]=a,e}(r=function(e,t){var n;switch(t){case H:case U:case _:n=32727;break;case D:case K:n=65495;break;default:throw new Error("Invalid rom type")}for(var r=!1,a=le.length-1;a>=0;a--)if(e.length>le[a].size){e[n]=le[a].id,r=!0;break}if(!r)throw new Error("Invalid size");return e}(r=new Int8Array([].concat(Object(se.a)(a),Object(se.a)(Array(Math.max(i-a.length,0)).fill(c)))),t),t,n),n.expansionOption){case Y.AppendZeros:if(n.isExtended)switch(t){case H:r=(r=r.copyWithin(4194304,0,4194304)).fill(0,32768,4194304);break;case U:r=r.copyWithin(4194304,0,32768);break;case _:break;case D:r=r.copyWithin(4227072,32768,65536);break;case K:break;default:throw new Error("Invalid rom type")}break;case Y.Mirror:if(!n.isExtended)throw new Error("Can't mirror when not extended.");if(t===D||t===K)for(var s=4227072;s<r.length;){var l=s-4194304;r=r.copyWithin(s,l,l+32768),s+=65536}else{if(t!==H&&t!==U&&t!==_)throw new Error("Invalid rom type");r=r.copyWithin(4194304,0,4194304)}break;default:o=new Error("Invalid expansion option")}else o="Selected size to expand to is smaller than the current rom size";return{romData:r,error:o}}var pe=n(161),he=n(162),Oe=n(164),xe=n(160),ue=n(163),me=n(172),fe=n.p+"static/media/moon.d8a187ea.svg",ge=Object(B.a)((function(e){return{formControl:{minWidth:120,maxWidth:300},paper:{padding:e.spacing(4),margin:"auto"},img:{width:"100%"},divider:{marginBottom:e.spacing(2)}}})),ve=[{size:131072,expansionOption:Y.AppendZeros},{size:262144,expansionOption:Y.AppendZeros},{size:524288,expansionOption:Y.AppendZeros},{size:1048576,expansionOption:Y.AppendZeros},{size:1572864,expansionOption:Y.AppendZeros},{size:2097152,expansionOption:Y.AppendZeros},{size:2621440,expansionOption:Y.AppendZeros},{size:3145728,expansionOption:Y.AppendZeros},{size:3670016,expansionOption:Y.AppendZeros},{size:4194304,expansionOption:Y.AppendZeros},{size:6291456,isExtended:!0,expansionOption:Y.AppendZeros,additionalLabel:"(Normal) "},{size:6291456,isExtended:!0,expansionOption:Y.Mirror,additionalLabel:"(Mirror) "},{size:8388608,isExtended:!0,expansionOption:Y.AppendZeros,additionalLabel:"(Normal) "},{size:8388608,isExtended:!0,expansionOption:Y.Mirror,additionalLabel:"(Mirror) "}];function ye(){var e=ge(),t=g().theme,n=Object(d.useContext)(f),r=Object(E.b)(),a=j.a.useState(),i=Object(b.a)(a,2),c=i[0],o=i[1],l=j.a.useState(),p=Object(b.a)(l,2),h=p[0],x=p[1],u=j.a.useState(),m=Object(b.a)(u,2),v=m[0],y=m[1],w=j.a.useState(""),k=Object(b.a)(w,2),z=k[0],M=k[1];function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,r=t<0?0:t,a=["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,i)).toFixed(r))+" "+a[i]}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(L.a,{className:e.paper,children:Object(O.jsxs)(R.a,{container:!0,justify:"space-between",alignItems:"flex-start",children:[Object(O.jsx)(R.a,{item:!0,children:Object(O.jsxs)(R.a,{container:!0,direction:"row",alignItems:"center",children:[Object(O.jsx)(R.a,{item:!0,children:Object(O.jsx)("img",{src:fe})}),Object(O.jsx)(R.a,{item:!0,children:Object(O.jsx)(Z.a,{variant:"h4",children:"\xa0\xa0Lunar Expand JS"})})]})}),Object(O.jsx)(R.a,{item:!0,children:Object(O.jsxs)(R.a,{container:!0,spacing:4,alignItems:"center",children:[Object(O.jsx)(R.a,{item:!0,children:Object(O.jsxs)("label",{htmlFor:"upload-photo",children:[Object(O.jsx)("input",{style:{display:"none"},id:"upload-photo",name:"upload-photo",accept:".smc,.sfc",type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){var a=n.result,i=new Int8Array(a),c=function(e){var t=0;if((ie=e).length<65536)return{romType:V,error:"Rom too small"};if(ae=32732,e.length%65536!==0)return{romType:V,error:"Rom is not a proper size."};if(65535===(ce()^ce()))ae=32725,t=oe();else{if(ae=65500,65535!==(ce()^ce()))return{romType:V,error:"File is not a SNES rom"};ae=65493,t=oe()}return{romType:5===(15&t)?K:3===(15&t)?D:1===(1&t)?ie.length<=4194304?D:K:ie.length<=4194304?t>>4>=3?U:H:_,error:""}}(i);c.romType!==V?(x(i),o(c.romType),y(t.name),M(""),r(T(!0,"success","ROM memory map type indentified as: ".concat(c.romType)))):(o(null),y(null),x(null),r(T(!0,"error","Cannot determine ROM memory map type. ".concat(c.error,"."))))},void 0!==t&&n.readAsArrayBuffer(t)}}),Object(O.jsx)(F.a,{color:"primary",variant:"contained",component:"span",children:"Load Rom"})]})}),Object(O.jsx)(R.a,{item:!0,children:Object(O.jsx)(te,{})}),Object(O.jsx)(R.a,{item:!0,children:Object(O.jsx)(G.a,{onClick:function(){return n({type:"TOGGLE_THEME"})},children:"light"===t?Object(O.jsx)(P.a,{}):Object(O.jsx)(J.a,{})})})]})})]})}),Object(O.jsx)("br",{}),h?Object(O.jsx)(R.a,{item:!0,xs:12,children:Object(O.jsxs)(L.a,{className:e.paper,children:[Object(O.jsx)(R.a,{container:!0,justify:"space-between",alignItems:"flex-start",children:Object(O.jsx)(R.a,{item:!0,children:Object(O.jsx)(Z.a,{gutterBottom:!0,variant:"h6",children:"Rom Info"})})}),Object(O.jsx)(xe.a,{component:L.a,children:Object(O.jsx)(pe.a,{size:"small","aria-label":"collapsible table",children:Object(O.jsxs)(he.a,{children:[Object(O.jsxs)(ue.a,{children:[Object(O.jsx)(Oe.a,{component:"th",scope:"row",children:"Filename"}),Object(O.jsx)(Oe.a,{align:"right",children:v})]}),Object(O.jsxs)(ue.a,{children:[Object(O.jsx)(Oe.a,{component:"th",scope:"row",children:"Rom Map Type"}),Object(O.jsx)(Oe.a,{align:"right",children:c})]}),Object(O.jsxs)(ue.a,{children:[Object(O.jsx)(Oe.a,{component:"th",scope:"row",children:"Rom Size"}),Object(O.jsx)(Oe.a,{align:"right",children:A(h.length)})]})]})})})]})}):null,Object(O.jsx)("br",{}),c?Object(O.jsx)(L.a,{className:e.paper,children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(R.a,{container:!0,justify:"space-between",alignItems:"flex-start",children:Object(O.jsx)(R.a,{item:!0,children:Object(O.jsx)(Z.a,{gutterBottom:!0,variant:"h6",children:"New Size"})})}),Object(O.jsxs)(s.a,{children:[Object(O.jsx)(R.a,{container:!0,spacing:1,children:ve.map((function(e,t){return Object(O.jsx)(O.Fragment,{children:e.size>h.length&&(c!==H&&c!==U&&e.expansionOption!==Y.ShuffleIfLoROM||c===H||c===U)?Object(O.jsx)(R.a,{item:!0,md:6,xs:12,children:Object(O.jsx)(me.a,{title:e.expansionOption===Y.Mirror?'Consider the "mirror" option as a last resort method if other options fail.':"",placement:"bottom-start",children:Object(O.jsx)(re.a,{control:Object(O.jsx)(ne.a,{color:"primary"}),checked:z==="".concat(t),onChange:function(e){return M(e.target.value)},value:t,label:(n=e,"".concat(n.size/131072," Mbit ").concat(!0===n.isExtended?"Ex".concat(c.replace(/[0-9]/g,"").replace("Ex","")," ").concat(void 0!==n.additionalLabel?n.additionalLabel:""):"","(").concat(A(n.size),")"))})})}):null});var n}))}),Object(O.jsx)(R.a,{container:!0,direction:"row-reverse",justify:"space-between",alignItems:"center",children:Object(O.jsx)(F.a,{disabled:""===z,color:"primary",variant:"contained",component:"span",onClick:function(e){var t=be(h,c,ve[z]);if(""===t.error){var n=v.replace(/[.][^.]+$/,""),a=v.replace(/.*\./,"");!function(e,t){var n=window.document.createElement("a");n.href=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}("".concat(n,"(Expand).").concat(a),t.romData)}else r(T(!0,"error","Error ".concat(t.error,".")))},children:"Expand"})})]})]})}):null]})}var we=n(171),ke=n(170),Ee=Object(B.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),ze=function(){var e=Ee(),t=Object(E.b)(),n=Object(E.c)((function(e){return e.snackbar.snackbarOpen})),r=Object(E.c)((function(e){return e.snackbar.snackbarType})),a=Object(E.c)((function(e){return e.snackbar.snackbarMessage})),i=function(e,n){"clickaway"!==n&&t(T(!1,r,a))};return Object(O.jsx)("div",{className:e.root,children:Object(O.jsx)(we.a,{open:n,autoHideDuration:3e3,onClose:i,children:Object(O.jsx)(ke.a,{elevation:6,variant:"filled",onClose:i,color:r,children:a})})})};var Me=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(v,{children:Object(O.jsx)(E.a,{store:I,children:Object(O.jsx)(k,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(a.c,{children:Object(O.jsxs)(a.a,{path:"/",children:[Object(O.jsx)(ze,{}),Object(O.jsx)(ye,{})]})})})})})})})},Ae=n(12);n.n(Ae).a.render(Object(O.jsx)(j.a.StrictMode,{children:Object(O.jsx)(Me,{})}),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.561304f2.chunk.js.map